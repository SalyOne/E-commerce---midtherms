"use strict";(self.webpackChunkE_commerce_midterms=self.webpackChunkE_commerce_midterms||[]).push([[678],{678:(x,p,e)=>{e.r(p),e.d(p,{ProductsModule:()=>y});var d=e(6895),s=e(3128),l=e(7539),g=e(7579),u=e(2722),t=e(8256),m=e(5482),P=e(4128),r=e(433),f=e(3518);function C(n,c){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.hij(" ",o.message," ")}}function h(n,c){1&n&&t._UZ(0,"app-product-item",15),2&n&&t.Q6J("product",c.$implicit)}const O=[{path:"",component:l.P},{path:":id",component:(()=>{class n{constructor(o,i,a){this.route=o,this.productService=i,this.cartService=a,this.quantity=1,this.sub$=new g.x,this.similarProducts=[]}ngOnInit(){this.route.params.pipe((0,u.R)(this.sub$)).subscribe(o=>{this.productId=o.id,this.getProduct()})}getProduct(){this.productService.getOneProd(this.productId).pipe((0,u.R)(this.sub$)).subscribe(o=>{this.product=o,this.getProducts()})}addToCart(){this.cartService.postToCart({productId:this.productId,quantity:this.quantity}).pipe().subscribe(()=>{this.message="Added to cart",setTimeout(()=>{this.message=void 0},2e3)})}getProducts(){this.productService.getProducts({limit:4,categoryId:this.product.category.id,similar:this.product.id}).pipe((0,u.R)(this.sub$)).subscribe(o=>{this.similarProducts=o})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(s.gz),t.Y36(m.s),t.Y36(P.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-details"]],decls:18,vars:6,consts:[[1,"container"],[1,"d-flex","gap-4","product-detail-container"],[1,"image-container"],["width","300px",3,"src"],[1,"flex-fill","content-container"],[1,"title"],[1,"description",3,"innerText"],[1,"input-container"],["type","number",3,"ngModel","ngModelChange"],[1,"btn","button-primary",3,"click"],[1,"mb-4","mt-1"],["class","alert alert-success",4,"ngIf"],[1,"product-items"],[3,"product",4,"ngFor","ngForOf"],[1,"alert","alert-success"],[3,"product"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"h1",5),t._uU(6),t.qZA(),t._UZ(7,"p",6),t.TgZ(8,"div",7)(9,"input",8),t.NdJ("ngModelChange",function(_){return i.quantity=_}),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return i.addToCart()}),t._uU(11,"Add to cart"),t.qZA()(),t.TgZ(12,"div",10),t.YNc(13,C,2,1,"div",11),t.qZA()()(),t.TgZ(14,"div",12)(15,"h4",5),t._uU(16,"Similar Products:"),t.qZA(),t.YNc(17,h,1,1,"app-product-item",13),t.qZA()()),2&o&&(t.xp6(3),t.s9C("src",null==i.product?null:i.product.image,t.LSH),t.xp6(3),t.Oqu(null==i.product?null:i.product.name),t.xp6(1),t.Q6J("innerText",null==i.product?null:i.product.description),t.xp6(2),t.Q6J("ngModel",i.quantity),t.xp6(4),t.Q6J("ngIf",i.message),t.xp6(4),t.Q6J("ngForOf",i.similarProducts))},dependencies:[d.sg,d.O5,r.Fj,r.wV,r.JJ,r.On,f.V],styles:['.button-primary[_ngcontent-%COMP%]{background-color:#f48668;color:#fff}.button-main[_ngcontent-%COMP%]{background-color:#7d84b2;color:#fff}.product-detail-container[_ngcontent-%COMP%]{margin:20px 0}.product-detail-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:400px;height:500px;position:relative}.product-detail-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:capitalize;font-family:"Noto Serif NP Hmong",serif}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;padding-top:40px}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{margin-top:auto;height:40px}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;font-family:"Noto Serif NP Hmong",serif}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:translateY(-2px);border-bottom-left-radius:0;border-top-left-radius:0}.product-detail-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7d84b2}.product-items[_ngcontent-%COMP%]{padding:30px 0}.product-items[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:capitalize;font-family:"Noto Serif NP Hmong",serif}']}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(O),s.Bz]}),n})();var b=e(5633);let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,v,b.D,r.u5]}),n})()}}]);