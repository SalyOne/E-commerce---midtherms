"use strict";(self.webpackChunkE_commerce_midterms=self.webpackChunkE_commerce_midterms||[]).push([[34],{6034:(P,u,i)=>{i.r(u),i.d(u,{CategoriesModule:()=>Z});var g=i(6895),a=i(3128),m=i(7579),c=i(2722),t=i(8256),f=i(8773);const p=function(n){return["/admin-panel/categories-panel/edit",n]};function C(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",8),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",9),t._uU(7,"Edit"),t.qZA(),t.TgZ(8,"button",10),t.NdJ("click",function(){const _=t.CHM(e).$implicit,A=t.oxw(2);return t.KtG(A.deleteCategory(_.id))}),t._uU(9,"Delete"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("routerLink",t.VKq(3,p,e.id))}}function b(n,o){if(1&n&&(t.ynx(0),t.YNc(1,C,10,5,"tr",7),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.categories)}}let h=(()=>{class n{constructor(e){this.categoryService=e,this.categories=[],this.sub$=new m.x}ngOnInit(){this.getCategories()}getCategories(){this.categoryService.getAllCat().pipe((0,c.R)(this.sub$)).subscribe(e=>{this.categories=e})}deleteCategory(e){this.categoryService.deleteCat(e).pipe((0,c.R)(this.sub$)).subscribe(s=>{this.getCategories()})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.G))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-categories"]],decls:19,vars:1,consts:[[1,""],[1,"d-flex","first-row","justify-content-between","align-items-center"],[1,"title"],["routerLink","/admin-panel/categories-panel/add",1,"btn","button-main"],[1,"table","category-table"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","button-primary",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Categories"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t._uU(6,"Add"),t.qZA()()(),t.TgZ(7,"div",0)(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Title"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Actions"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,b,2,1,"ng-container",6),t.qZA()()()()),2&e&&(t.xp6(18),t.Q6J("ngIf",s.categories))},dependencies:[g.sg,g.O5,a.rH],styles:['.button-primary[_ngcontent-%COMP%]{background-color:#f48668;color:#fff}.button-main[_ngcontent-%COMP%]{background-color:#7d84b2;color:#fff}.category-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-family:"Noto Serif NP Hmong",serif;text-transform:capitalize}.category-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .category-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;text-transform:capitalize;font-size:18px}.button-primary[_ngcontent-%COMP%]{margin-right:5px}.first-row[_ngcontent-%COMP%]{font-family:Dosis,sans-serif;text-transform:capitalize}.first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Noto Serif NP Hmong",serif;font-size:22px}']}),n})();var r=i(433),y=i(3900),v=i(9646);let d=(()=>{class n{constructor(e,s,l){this.categoriesService=e,this.router=s,this.route=l,this.form=new r.cw({id:new r.NI(null),name:new r.NI("",r.kI.required)}),this.sub$=new m.x}ngOnInit(){this.route.params.pipe((0,y.w)(e=>e.id?this.categoriesService.getOneCat(e.id):(0,v.of)(null))).subscribe(e=>{e&&this.form.patchValue(e)})}submit(){this.form.markAllAsTouched(),!this.form.invalid&&(this.form.value.id?this.categoriesService.updateCat(this.form.value.id,this.form.value).pipe((0,c.R)(this.sub$)).subscribe(e=>{this.router.navigate(["admin-panel/categories-panel"]).then(()=>{this.form.reset()})}):this.categoriesService.createCat(this.form.value).pipe((0,c.R)(this.sub$)).subscribe(e=>{this.router.navigate(["admin-panel/categories-panel"]).then(()=>{this.form.reset()})}))}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.G),t.Y36(a.F0),t.Y36(a.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-categories-add-edit"]],decls:8,vars:1,consts:[[1,"container","m-3"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","placeholder","Title","formControlName","name",1,"form-control"],["type","submit",1,"btn","button-main"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return s.submit()}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Title"),t.qZA(),t._UZ(5,"input",4),t.qZA(),t.TgZ(6,"button",5),t._uU(7,"Submit"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",s.form))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:['.button-primary[_ngcontent-%COMP%]{background-color:#f48668;color:#fff}.button-main[_ngcontent-%COMP%]{background-color:#7d84b2;color:#fff}label[_ngcontent-%COMP%]{font-family:"Noto Serif NP Hmong",serif}input[_ngcontent-%COMP%]{font-family:Dosis,sans-serif}']}),n})();const O=[{path:"",component:h},{path:"add",component:d},{path:"edit/:id",component:d}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.Bz.forChild(O),a.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,M,r.UX,a.Bz]}),n})()}}]);